name : 15 - Working with matrices

on :
    workflow_dispatch :

jobs:
    backward-compatibility:
        name : Test Node.js ${{ matrix.node-version }} on ${{ matrix.os }}
        runs-on : ${{ matrix.os}}
        strategy:
            fail-fast : false
            matrix:
                node-version: [18.x, 20.x, 21.x]
                os: 
                    - ubuntu-latest
                    - windows-latest
                include:
                    - os : ubuntu-latest
                      node-version : 16.x
                    - os : ubuntu-latest
                      node-version : 21.x
                      tag : experimental
        steps:
           - name : Setup Node
             uses : actions/setup-node@v3
             with :
                node-version : ${{ matrix.node-version }}
           - name: Fail if experimental on unsupported OS
             if  : ${{ matrix.tag == 'experimental' }}
             run : |
                exit 1
           - name : Check Node version
             run : 
                |
                echo "Running on node ${{ matrix.node-version }} on os ${{ matrix.os }}"
                sleep 10
           - name : Upload test results
             run  : echo "Uploading test results..."
  
    include-example: 
       name : ${{ matrix.color }} - ${{ matrix.shape }} - ${{ matrix.size }}
       runs-on : ubuntu-latest
       strategy:
          matrix:
            color : [red , green]
            shape : [circle, square]
            size  : [small, large]
            include:
                - color : red
                  shape : traiangle
       steps:
           - name : Print matrix values
             run  :  echo ${{ matrix.color }} - ${{ matrix.shape }} - ${{ matrix.size }}




        

